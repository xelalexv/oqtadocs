<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="google-site-verification" content="r_wFLEsE2ek8QyEM5X_6CQ1rOofoeWta1IWyPyETk7Q" />

		<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Install | OqtaDrive</title>
<meta name="generator" content="Jekyll v3.8.4" />
<meta property="og:title" content="Install" />
<meta name="author" content="Alexander Vollschwitz" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Installation Script In the hack folder of the project, there’s a Makefile that can perform all necessary installation steps. Currently, this only supports installation on Linux. For more details, have a look at the install guide. I highly recommend using the installer, since it’s easy to make mistakes when doing the installation manually. But above all, it can also upgrade an existing installation. So it’s easy to stay up to date with the latest releases. Run make without any options for detailed info about what the installer can do, and what settings you can make. If using the installer is really not an option, refer to the following steps." />
<meta property="og:description" content="Installation Script In the hack folder of the project, there’s a Makefile that can perform all necessary installation steps. Currently, this only supports installation on Linux. For more details, have a look at the install guide. I highly recommend using the installer, since it’s easy to make mistakes when doing the installation manually. But above all, it can also upgrade an existing installation. So it’s easy to stay up to date with the latest releases. Run make without any options for detailed info about what the installer can do, and what settings you can make. If using the installer is really not an option, refer to the following steps." />
<link rel="canonical" href="https://xelalexv.github.io/oqtadocs/02.getting-started/install/" />
<meta property="og:url" content="https://xelalexv.github.io/oqtadocs/02.getting-started/install/" />
<meta property="og:site_name" content="OqtaDrive" />
<script type="application/ld+json">
{"headline":"Install","@type":"Article","url":"https://xelalexv.github.io/oqtadocs/02.getting-started/install/","author":{"@type":"Person","name":"Alexander Vollschwitz"},"description":"Installation Script In the hack folder of the project, there’s a Makefile that can perform all necessary installation steps. Currently, this only supports installation on Linux. For more details, have a look at the install guide. I highly recommend using the installer, since it’s easy to make mistakes when doing the installation manually. But above all, it can also upgrade an existing installation. So it’s easy to stay up to date with the latest releases. Run make without any options for detailed info about what the installer can do, and what settings you can make. If using the installer is really not an option, refer to the following steps.","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://xelalexv.github.io/oqtadocs/images/oqtadrive.png"},"name":"Alexander Vollschwitz"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

		<link type="application/atom+xml" rel="alternate" href="https://xelalexv.github.io/oqtadocs/feed.xml" title="OqtaDrive" />

		<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic|Open+Sans:400,400italic,600,600italic,700,700italic|Inconsolata:400,700">
		<link rel="stylesheet" href="/oqtadocs/css/main.css">
		<link rel="apple-touch-icon" href="/oqtadocs/images/logo-dark.png">
		<link rel="icon" type="image/png" href="/oqtadocs/images/logo-dark.png" sizes="192x192">
		<link rel="icon" type="image/png" href="/oqtadocs/images/logo-dark.png">

		
	</head>

	<body>
		<header>
			<h1>
				<a href="/oqtadocs/"><img src="/oqtadocs/images/logo-white-t.png" width="88" height="88" alt="OqtaDrive logo"></a>
				OqtaDrive
				<button type="button" class="open-nav" id="open-nav"></button>
			</h1>

			<form action="/oqtadocs/search/" method="get">
				<input type="text" name="q" id="search-input" placeholder="Search" autofocus>
				<input type="submit" value="Search" style="display: none;">
			</form>

			<nav class="full-navigation">
				<ul>
					<li class="nav-item top-level ">
						
						<a href="/oqtadocs/">Welcome</a>
					</li>
				</ul>

				<ul>
					
					
						<li class="nav-item top-level ">
							
							<a href="/oqtadocs/01.overview/features/">Overview</a>
							<ul>
								
									<li class="nav-item "><a href="/oqtadocs/01.overview/features/">Main Features</a></li>
								
									<li class="nav-item "><a href="/oqtadocs/01.overview/drives/">Hardware Drives</a></li>
								
									<li class="nav-item "><a href="/oqtadocs/01.overview/snapshots/">Loading Snapshots</a></li>
								
									<li class="nav-item "><a href="/oqtadocs/01.overview/repo/">Cartridge Repo</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level current">
							
							<a href="/oqtadocs/02.getting-started/build/">Getting Started</a>
							<ul>
								
									<li class="nav-item "><a href="/oqtadocs/02.getting-started/build/">Build</a></li>
								
									<li class="nav-item current"><a href="/oqtadocs/02.getting-started/install/">Install</a></li>
								
									<li class="nav-item "><a href="/oqtadocs/02.getting-started/configure/">Configure</a></li>
								
									<li class="nav-item "><a href="/oqtadocs/02.getting-started/troubleshoot/">Troubleshoot</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/oqtadocs/09.background/microdrive/">Background</a>
							<ul>
								
									<li class="nav-item "><a href="/oqtadocs/09.background/microdrive/">The Microdrive</a></li>
								
									<li class="nav-item "><a href="/oqtadocs/09.background/development/">Development</a></li>
								
							</ul>
						</li>
					
				</ul>

				<ul>
					<li class="nav-item top-level ">
						
						<a href="/oqtadocs/changelog/">What's New</a>
					</li>
					<li class="nav-item top-level">
						<a href="https://github.com/xelalexv/oqtadrive">
							<img width="32" src="/oqtadocs/images/GitHub-Mark-Light-120px-plus.png" />
							<div>Project Home</div>
						</a>
					</li>
				</ul>
			</nav>
		</header>

		<section class="main">
			<div class="page-header">
				<h2>Getting Started</h2>
				<h3>Install</h3>
			</div>
			<article class="content">
				<h4 id="installation-script">Installation Script</h4>
<p>In the <a href="https://github.com/xelalexv/oqtadrive/tree/master/hack"><code class="highlighter-rouge">hack</code> folder</a> of the project, there’s a <code class="highlighter-rouge">Makefile</code> that can perform all necessary installation steps. Currently, this only supports installation on <em>Linux</em>. For more details, have a look at the <a href="https://github.com/xelalexv/oqtadrive/blob/master/doc/install.md">install guide</a>. I highly recommend using the installer, since it’s easy to make mistakes when doing the installation manually. But above all, it can also upgrade an existing installation. So it’s easy to stay up to date with the latest releases. Run <code class="highlighter-rouge">make</code> without any options for detailed info about what the installer can do, and what settings you can make. If using the installer is really not an option, refer to the following steps.</p>

<h4 id="adapter-firmware">Adapter Firmware</h4>
<p>The <em>OqtaDrive</em> firmware needs to be flashed onto the <em>Arduino</em>. For this you can use for example the <a href="https://www.arduino.cc/en/software"><em>Arduino</em> IDE</a>, or if you’re comfortable working with the command line, the <a href="https://github.com/arduino/arduino-cli">arduino-cli</a>. You find released versions of the firmware on the <a href="https://github.com/xelalexv/oqtadrive/releases">release page</a>, and the latest unreleased version <a href="https://github.com/xelalexv/oqtadrive/blob/master/arduino/oqtadrive.ino">here</a>.</p>

<h4 id="oqtadrive-daemon--control-command"><em>OqtaDrive</em> Daemon &amp; Control Command</h4>
<p>There is a single binary <code class="highlighter-rouge">oqtactl</code>. It can be run as <em>the daemon</em> to take care of everything that needs to be done on the daemon host side. It can also be run as a command to control the daemon, on the same host or over the network. The <a href="https://github.com/xelalexv/oqtadrive/releases">release page</a> has <code class="highlighter-rouge">oqtactl</code> binaries for <em>Linux</em>, <em>MacOS</em> and <em>Windows</em>, available for different architectures. Download, extract, and copy the appropriate binary onto the daemon host and any other system from which you want to use it.</p>

<h5 id="daemon-as-systemd-service-optional">Daemon as <code class="highlighter-rouge">systemd</code> Service (optional)</h5>
<p>If you want to automatically start the daemon whenever the daemon host boots, you can enable it as a <em>systemd</em> service. This of course only works if the <em>Linux</em> system is using <em>systemd</em> as its init system, which is the case with <em>Raspberry Pi OS</em> on the <em>Pi</em>. Create the following <em>unit file</em>, e.g. in <code class="highlighter-rouge">/etc/systemd/system/oqtadrive.service</code> (as <code class="highlighter-rouge">root</code>), adjusting the place holders for user and serial port accordingly:</p>

<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[Unit]</span>
<span class="py">Description</span><span class="p">=</span><span class="s">OqtaDrive Daemon</span>
<span class="py">After</span><span class="p">=</span><span class="s">local-fs.target sysinit.target</span>

<span class="nn">[Service]</span>
<span class="c">#Environment=LOG_LEVEL=debug OQTADRIVE_ADDRESS=oqtadrive-box:8080
</span><span class="py">ExecStart</span><span class="p">=</span><span class="s">/home/{user}/oqtactl serve -d {serial port to use} {extra arguments, if needed}</span>
<span class="py">WorkingDirectory</span><span class="p">=</span><span class="s">/home/{user}</span>
<span class="py">StandardOutput</span><span class="p">=</span><span class="s">inherit</span>
<span class="py">StandardError</span><span class="p">=</span><span class="s">inherit</span>
<span class="py">Restart</span><span class="p">=</span><span class="s">always</span>
<span class="py">User</span><span class="p">=</span><span class="s">someone</span>

<span class="nn">[Install]</span>
<span class="py">WantedBy</span><span class="p">=</span><span class="s">multi-user.target</span>
</code></pre></div></div>

<p>If you want to set environment variables, for example to set debug log level, uncomment the <code class="highlighter-rouge">Environment</code> line and add variables as required. The list is space separated. Assignments that include space characters therefore need to be placed in double quotes. To finally activate the service, run:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl <span class="nb">enable </span>oqtadrive.service
<span class="nb">sudo </span>systemctl start oqtadrive.service
</code></pre></div></div>

<p>You can check on the status of the service with:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl status oqtadrive.service
</code></pre></div></div>

<p>Logs can be retrieved with:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>journalctl <span class="nt">-u</span> oqtadrive
</code></pre></div></div>

<p>Whenever you change the unit file, do this to activate the changes:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>systemctl daemon-reload
<span class="nb">sudo </span>systemctl restart oqtadrive.service
</code></pre></div></div>

<h4 id="web-ui">Web UI</h4>
<p>The <em>OqtaDrive</em> web UI is served by the daemon. If you want to enable it, extract the content of the <code class="highlighter-rouge">ui.zip</code> archive from the <a href="https://github.com/xelalexv/oqtadrive/releases">release page</a> into the same directory where the <code class="highlighter-rouge">oqtactl</code> binary is located on the daemon host. When the daemon starts, it will pick up the UI resources and start serving the web UI on port <code class="highlighter-rouge">8888</code> by default. Have a look at <code class="highlighter-rouge">oqtactl serve --help</code> on how to change that.</p>

			</article>
		</section>

		<script>
			document.getElementById("open-nav").addEventListener("click", function () {
				document.body.classList.toggle("nav-open");
			});
		</script>
	</body>
</html>
